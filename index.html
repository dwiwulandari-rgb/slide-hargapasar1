<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul IPS: Dinamika Harga & Pasar (Pertemuan 1)</title>
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. React & Lucide Icons -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.263.1"
      }
    }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
        body { background-color: #f8fafc; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            TrendingUp, TrendingDown, Users, Package, Globe, ArrowRight, ArrowLeft, 
            Store, PlayCircle, Award, Gamepad2, Youtube, HelpCircle, Lightbulb, 
            CheckCircle, BarChart2, Heart, MousePointerClick, ClipboardList, 
            Target, BookOpen, School, Clock, Trash2, ShieldCheck, FileText, Ban, 
            Smile, PenTool, Timer, Smartphone, FileEdit
        } from 'lucide-react';

        function MarketEconomicsModule() {
            const [currentSlide, setCurrentSlide] = useState(0);
            const [price, setPrice] = useState(5); // Scale 1-10 internal logic
            const [lang, setLang] = useState('id'); 
            const [quizScore, setQuizScore] = useState(0);
            const [quizFinished, setQuizFinished] = useState(false);
            const [currentQuestion, setCurrentQuestion] = useState(0);

            const TOTAL_SLIDES = 10;

            // Helper to format price to Rupiah
            const formatRupiah = (val) => {
                return "Rp " + (val * 2000).toLocaleString('id-ID');
            };

            const questions = [
                {
                    q: { id: "Jika harga barang NAIK, apa yang terjadi pada Permintaan?", en: "If price goes UP, what happens to Demand?" },
                    options: [
                        { id: "Permintaan Naik", en: "Demand goes Up", correct: false },
                        { id: "Permintaan Tetap", en: "Demand stays same", correct: false },
                        { id: "Permintaan Turun", en: "Demand goes Down", correct: true },
                    ]
                },
                {
                    q: { id: "Manakah contoh Pasar Abstrak?", en: "Which is an example of an Abstract Market?" },
                    options: [
                        { id: "Pasar Tradisional", en: "Traditional Market", correct: false },
                        { id: "Tokopedia / Shopee", en: "Online Marketplace", correct: true },
                        { id: "Supermarket", en: "Supermarket", correct: false },
                    ]
                },
                {
                    q: { id: "Titik temu kurva permintaan & penawaran disebut...", en: "Meeting point of supply & demand curves is called..." },
                    options: [
                        { id: "Harga Diskon", en: "Discount Price", correct: false },
                        { id: "Harga Eceran", en: "Retail Price", correct: false },
                        { id: "Harga Keseimbangan", en: "Equilibrium Price", correct: true },
                    ]
                }
            ];

            const handleAnswer = (isCorrect) => {
                if (isCorrect) setQuizScore(s => s + 1);
                if (currentQuestion < questions.length - 1) {
                    setTimeout(() => setCurrentQuestion(curr => curr + 1), 500);
                } else {
                    setTimeout(() => setQuizFinished(true), 500);
                }
            };

            const resetQuiz = () => {
                setQuizScore(0);
                setCurrentQuestion(0);
                setQuizFinished(false);
            };

            const nextSlide = () => {
                if (currentSlide < TOTAL_SLIDES - 1) setCurrentSlide(curr => curr + 1);
            };

            const prevSlide = () => {
                if (currentSlide > 0) setCurrentSlide(curr => curr - 1);
            };

            const demandCount = 11 - price; 
            const supplyCount = price;      

            return (
                <div className="flex flex-col min-h-screen bg-slate-50 font-sans text-slate-800">
                
                {/* HEADER */}
                <div className="bg-slate-900 text-white p-4 shadow-md sticky top-0 z-50">
                    <div className="max-w-6xl mx-auto flex justify-between items-center">
                    <div className="flex items-center gap-3">
                        <div className="bg-yellow-500 text-slate-900 font-bold px-2 py-1 rounded text-xs">CAMBRIDGE</div>
                        <div><h1 className="font-bold text-sm md:text-base tracking-tight">Economics Phase D</h1></div>
                    </div>
                    <button onClick={() => setLang(lang === 'id' ? 'en' : 'id')} className="flex items-center gap-2 text-xs bg-slate-700 hover:bg-slate-600 px-3 py-1 rounded-full transition">
                        <Globe size={14} /> {lang === 'id' ? 'English' : 'Indonesia'}
                    </button>
                    </div>
                </div>

                {/* CONTENT */}
                <div className="flex-1 flex flex-col justify-center items-center p-4 bg-slate-100">
                    <div className="w-full max-w-6xl bg-white rounded-3xl shadow-2xl overflow-hidden min-h-[650px] flex flex-col relative border border-slate-200">
                    
                    <div className="flex-1 p-6 md:p-10 flex flex-col justify-center items-center w-full">
                        
                        {/* 0. TITLE */}
                        {currentSlide === 0 && (
                        <div className="text-center animate-fadeIn space-y-6 max-w-2xl">
                            <div className="inline-block p-6 rounded-full bg-blue-50 mb-4 animate-bounce">
                            <Store size={80} className="text-blue-600" />
                            </div>
                            <h1 className="text-4xl md:text-6xl font-extrabold text-slate-900 tracking-tight leading-tight">
                            {lang === 'id' ? "Dinamika Harga & Pasar" : "Price & Market Dynamics"}
                            </h1>
                            <p className="text-xl text-slate-500">SMP YPS Singkole - Pertemuan 1</p>
                            <div className="pt-8">
                            <button onClick={nextSlide} className="bg-blue-600 text-white px-10 py-4 rounded-full font-bold text-lg shadow-xl hover:bg-blue-700 hover:scale-105 transition-all flex items-center gap-3 mx-auto">
                                {lang === 'id' ? "Masuk Kelas" : "Enter Class"} <ArrowRight size={24} />
                            </button>
                            </div>
                        </div>
                        )}

                        {/* 1. RULES & VISION */}
                        {currentSlide === 1 && (
                        <div className="w-full animate-fadeIn h-full flex flex-col">
                            <div className="text-center mb-8">
                            <h2 className="text-3xl font-bold text-slate-800">{lang === 'id' ? "Aturan & Tujuan Kelas" : "Class Rules & Objectives"}</h2>
                            </div>
                            <div className="grid md:grid-cols-2 gap-8 h-full">
                            <div className="space-y-6">
                                <div className="bg-gradient-to-br from-blue-900 to-indigo-900 text-white p-6 rounded-2xl shadow-lg relative overflow-hidden group">
                                <School className="absolute right-[-20px] top-[-20px] opacity-10 transform group-hover:scale-110 transition duration-500" size={150}/>
                                <h3 className="text-yellow-400 font-bold text-xs uppercase tracking-widest mb-3 border-b border-white/20 pb-2 inline-block">School Vision</h3>
                                <p className="font-serif italic text-xl leading-relaxed mb-4">"Menjadi Pembelajar Sejati yang Berkarakter Unggul dan Berdaya Saing Global"</p>
                                <p className="text-xs text-blue-200 font-light tracking-wide">LIFELONG LEARNER WITH EXCELLENT CHARACTER AND GLOBAL COMPETENCY</p>
                                </div>
                                <div className="bg-white border border-slate-200 p-6 rounded-2xl shadow-sm h-full">
                                <h3 className="font-bold text-slate-800 mb-4 flex items-center gap-2 text-sm uppercase text-blue-600"><ClipboardList size={18}/> Class Agreements</h3>
                                <ul className="space-y-3 text-sm text-slate-700">
                                    <li className="flex items-center gap-3"><Clock size={16} className="text-green-500 shrink-0"/> Arrive on time</li>
                                    <li className="flex items-center gap-3"><Trash2 size={16} className="text-green-500 shrink-0"/> Always keep the classroom clean</li>
                                    <li className="flex items-center gap-3"><ShieldCheck size={16} className="text-green-500 shrink-0"/> Be honest and responsible</li>
                                    <li className="flex items-center gap-3"><FileText size={16} className="text-green-500 shrink-0"/> Complete assignments on time</li>
                                    <li className="flex items-center gap-3"><Ban size={16} className="text-green-500 shrink-0"/> Not bringing unnecessary items</li>
                                    <li className="flex items-center gap-3"><Smile size={16} className="text-green-500 shrink-0"/> Respecting teachers and friends</li>
                                </ul>
                                </div>
                            </div>
                            <div className="space-y-6 flex flex-col">
                                <div className="bg-slate-50 border-2 border-blue-100 p-6 rounded-2xl flex-1 shadow-sm">
                                <h3 className="font-bold text-blue-900 mb-4 flex items-center gap-2 text-sm uppercase"><Target size={18} className="text-blue-600"/> Learning Objectives (TP)</h3>
                                <p className="text-slate-700 text-sm mb-6 leading-relaxed bg-white p-4 rounded-xl border border-blue-50 shadow-sm">
                                    Murid mampu <strong>menganalisis peran harga dan pasar</strong> dalam menentukan interaksi penjual–pembeli dalam bentuk <strong>simulasi pasar kelompok</strong> serta menyajikan dalam bentuk laporan.
                                </p>
                                <div className="space-y-3">
                                    <div className="flex gap-4 items-start p-3 bg-white rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition">
                                    <div className="bg-orange-100 text-orange-600 p-2 rounded-lg"><BookOpen size={16}/></div>
                                    <div><span className="text-xs font-bold text-orange-700 block uppercase tracking-wider mb-1">Knowledge with Understanding</span><span className="text-xs text-slate-600 leading-tight">Mendefinisikan Demand, Supply, & Equilibrium Price.</span></div>
                                    </div>
                                    <div className="flex gap-4 items-start p-3 bg-white rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition">
                                    <div className="bg-purple-100 text-purple-600 p-2 rounded-lg"><BarChart2 size={16}/></div>
                                    <div><span className="text-xs font-bold text-purple-700 block uppercase tracking-wider mb-1">Analysis</span><span className="text-xs text-slate-600 leading-tight">Menjelaskan pengaruh kelangkaan (scarcity) terhadap harga.</span></div>
                                    </div>
                                    <div className="flex gap-4 items-start p-3 bg-white rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition">
                                    <div className="bg-teal-100 text-teal-600 p-2 rounded-lg"><Heart size={16}/></div>
                                    <div><span className="text-xs font-bold text-teal-700 block uppercase tracking-wider mb-1">Evaluation</span><span className="text-xs text-slate-600 leading-tight">Mengevaluasi etika ekonomi & keadilan pasar.</span></div>
                                    </div>
                                </div>
                                </div>
                                <a href="https://docs.google.com/spreadsheets/d/1cBw_BgzEvvEwH7eZevpSmSYnV1i9uPugtT5zSvL-BzI/edit?usp=drive_link" target="_blank" rel="noreferrer" className="bg-green-600 text-white p-5 rounded-xl font-bold shadow-lg hover:bg-green-700 transition flex items-center justify-center gap-3 group transform hover:-translate-y-1">
                                <ClipboardList size={24} className="group-hover:rotate-12 transition duration-300"/><span className="text-lg">{lang === 'id' ? "Isi Daftar Hadir" : "Fill Attendance"}</span>
                                </a>
                            </div>
                            </div>
                        </div>
                        )}

                        {/* 2. PRE-ACTIVITY */}
                        {currentSlide === 2 && (
                        <div className="w-full animate-fadeIn max-w-5xl">
                            <div className="text-center mb-10">
                            <h2 className="text-3xl font-bold text-slate-800 mb-2">{lang === 'id' ? "Aktivitas Awal" : "Pre-Activity"}</h2>
                            <p className="text-slate-500">{lang === 'id' ? "Mari bersiap sebelum masuk ke materi inti" : "Let's get ready before the core material"}</p>
                            </div>
                            <div className="grid md:grid-cols-2 gap-8">
                            <div className="bg-gradient-to-br from-indigo-600 to-purple-700 rounded-3xl p-8 text-white shadow-xl hover:-translate-y-2 transition duration-300 group relative overflow-hidden">
                                <div className="absolute right-[-20px] top-[-20px] opacity-10 transform group-hover:rotate-12 transition duration-500"><Gamepad2 size={150} /></div>
                                <h3 className="font-bold text-2xl mb-4 flex items-center gap-3"><Gamepad2 size={28}/> {lang === 'id' ? "Game Edukasi" : "Educational Game"}</h3>
                                <p className="text-indigo-100 mb-8 relative z-10 text-lg">{lang === 'id' ? "Cek pengetahuan awalmu tentang ekonomi lewat permainan seru ini!" : "Check your prior knowledge through this fun game!"}</p>
                                <a href="https://jelajahangka.my.canva.site/game-edukasi-ekonomi" target="_blank" rel="noreferrer" className="inline-block bg-white text-indigo-700 px-8 py-3 rounded-full font-bold hover:bg-indigo-50 transition shadow-md relative z-10">{lang === 'id' ? "Mainkan Sekarang" : "Play Now"}</a>
                            </div>
                            <div className="bg-white border-2 border-red-100 rounded-3xl p-8 shadow-xl hover:-translate-y-2 transition duration-300 group">
                                <h3 className="font-bold text-2xl mb-4 flex items-center gap-3 text-red-600"><Youtube size={28}/> Video Apersepsi</h3>
                                <p className="text-slate-600 mb-8 text-lg">{lang === 'id' ? "Tonton video singkat untuk melihat aktivitas pasar di kehidupan nyata." : "Watch this short video to see real-life market activities."}</p>
                                <a href="https://youtu.be/XzDAJKAu80o?si=BAm65E_pNY7iZCBV" target="_blank" rel="noreferrer" className="block w-full text-center bg-red-600 text-white px-8 py-3 rounded-full font-bold hover:bg-red-700 transition shadow-md flex items-center justify-center gap-3 group-hover:shadow-lg"><PlayCircle size={24}/> {lang === 'id' ? "Tonton Video" : "Watch Video"}</a>
                            </div>
                            </div>
                        </div>
                        )}

                        {/* 3. GUIDING QUESTIONS */}
                        {currentSlide === 3 && (
                        <div className="w-full max-w-4xl animate-fadeIn">
                            <div className="text-center mb-12">
                            <h2 className="text-3xl font-bold text-slate-800 mb-2">{lang === 'id' ? "Pertanyaan Pemantik" : "Guiding Questions"}</h2>
                            <p className="text-slate-500">{lang === 'id' ? "Pikirkan jawaban dari pertanyaan ini selama belajar" : "Think about these questions while learning"}</p>
                            </div>
                            <div className="grid md:grid-cols-2 gap-8">
                            <div className="bg-orange-50 border border-orange-200 p-8 rounded-3xl relative shadow-md hover:shadow-lg transition">
                                <div className="absolute -top-6 left-1/2 transform -translate-x-1/2 bg-orange-100 p-4 rounded-full border-4 border-white shadow-sm"><HelpCircle size={32} className="text-orange-600"/></div>
                                <p className="mt-6 text-xl font-serif font-medium text-center text-slate-800 italic leading-relaxed">"{lang === 'id' ? "Mengapa harga barang di pasar bisa berbeda-beda?" : "Why can prices of goods in the market vary?"}"</p>
                            </div>
                            <div className="bg-blue-50 border border-blue-200 p-8 rounded-3xl relative shadow-md hover:shadow-lg transition">
                                <div className="absolute -top-6 left-1/2 transform -translate-x-1/2 bg-blue-100 p-4 rounded-full border-4 border-white shadow-sm"><TrendingUp size={32} className="text-blue-600"/></div>
                                <p className="mt-6 text-xl font-serif font-medium text-center text-slate-800 italic leading-relaxed">"{lang === 'id' ? "Apa yang terjadi jika harga terlalu tinggi atau terlalu rendah?" : "What happens if prices are too high or too low?"}"</p>
                            </div>
                            </div>
                        </div>
                        )}

                        {/* 4. MATERI DASAR */}
                        {currentSlide === 4 && (
                        <div className="w-full animate-fadeIn max-w-5xl">
                            <div className="text-center mb-10">
                            <h2 className="text-3xl font-bold text-slate-800 mb-2">{lang === 'id' ? "Konsep Dasar" : "Basic Concepts"}</h2>
                            </div>
                            <div className="grid md:grid-cols-2 gap-8">
                            <div className="bg-white p-8 rounded-3xl border border-slate-200 shadow-lg hover:shadow-xl transition">
                                <div className="flex items-center gap-4 mb-6">
                                <div className="bg-emerald-100 p-3 rounded-2xl text-emerald-600"><Store size={32}/></div>
                                <h3 className="text-2xl font-bold text-slate-800">{lang === 'id' ? "Pasar (Market)" : "Market"}</h3>
                                </div>
                                <p className="text-slate-600 mb-6 text-lg leading-relaxed">{lang === 'id' ? "Mekanisme pertemuan penjual & pembeli. Tidak harus tempat fisik." : "Mechanism where sellers & buyers meet. Not necessarily a physical place."}</p>
                                <div className="flex flex-wrap gap-3">
                                <span className="text-sm font-bold bg-emerald-50 text-emerald-700 px-3 py-1 rounded-full border border-emerald-100">Konkret (Pasar Senen)</span>
                                <span className="text-sm font-bold bg-emerald-50 text-emerald-700 px-3 py-1 rounded-full border border-emerald-100">Abstrak (Tokopedia)</span>
                                </div>
                            </div>
                            <div className="bg-white p-8 rounded-3xl border border-slate-200 shadow-lg hover:shadow-xl transition">
                                <div className="flex items-center gap-4 mb-6">
                                <div className="bg-blue-100 p-3 rounded-2xl text-blue-600"><TrendingUp size={32}/></div>
                                <h3 className="text-2xl font-bold text-slate-800">{lang === 'id' ? "Hukum Ekonomi" : "Economic Laws"}</h3>
                                </div>
                                <ul className="space-y-4">
                                <li className="flex items-start gap-3 text-slate-700 bg-slate-50 p-3 rounded-xl"><TrendingDown className="text-red-500 shrink-0 mt-1" size={20}/><div><strong className="block text-red-600">Demand (Permintaan)</strong><span>Harga Naik <ArrowRight size={14} className="inline mx-1"/> Beli Sedikit.</span></div></li>
                                <li className="flex items-start gap-3 text-slate-700 bg-slate-50 p-3 rounded-xl"><TrendingUp className="text-green-500 shrink-0 mt-1" size={20}/><div><strong className="block text-green-600">Supply (Penawaran)</strong><span>Harga Naik <ArrowRight size={14} className="inline mx-1"/> Jual Banyak.</span></div></li>
                                </ul>
                            </div>
                            </div>
                        </div>
                        )}

                        {/* 5. SIMULASI */}
                        {currentSlide === 5 && (
                        <div className="w-full max-w-4xl animate-fadeIn">
                            <div className="text-center mb-8">
                            <span className="bg-yellow-100 text-yellow-800 px-4 py-1 rounded-full text-xs font-bold uppercase tracking-wider mb-3 inline-block shadow-sm">Interactive Simulation</span>
                            <h2 className="text-3xl font-bold text-slate-800">{lang === 'id' ? "Simulasi Pasar" : "Market Simulation"}</h2>
                            <p className="text-slate-500 text-sm mt-3 flex items-center justify-center gap-2"><MousePointerClick size={16}/> {lang === 'id' ? "Geser harga untuk melihat reaksi" : "Slide price to see reaction"}</p>
                            </div>
                            <div className="bg-slate-50 p-8 rounded-3xl mb-10 border border-slate-200 shadow-inner">
                            <div className="flex justify-between mb-4 text-xs font-bold text-slate-500 uppercase tracking-widest px-1"><span>Rp 2.000</span><span>Rp 20.000</span></div>
                            <input type="range" min="1" max="10" value={price} onChange={(e) => setPrice(parseInt(e.target.value))} className="w-full h-6 bg-gradient-to-r from-green-400 via-yellow-400 to-red-500 rounded-full appearance-none cursor-pointer shadow-sm"/>
                            <div className="text-center mt-4 font-bold text-slate-700 bg-white inline-block px-6 py-2 rounded-full shadow-sm text-lg">Harga: {formatRupiah(price)}</div>
                            </div>
                            <div className="grid grid-cols-2 gap-8">
                            <div className="bg-red-50 p-8 rounded-3xl border border-red-100 text-center transition-all duration-300 shadow-md transform hover:scale-105">
                                <h3 className="font-bold text-red-800 mb-4 flex justify-center items-center gap-2"><Users/> PEMBELI</h3>
                                <div className="text-6xl font-black text-red-600 mb-4">{demandCount}0</div>
                                <div className="flex flex-wrap justify-center gap-1 h-20 overflow-hidden content-start">{[...Array(demandCount)].map((_, i) => <Users key={i} size={24} className="text-red-400 animate-pulse"/>)}</div>
                            </div>
                            <div className="bg-green-50 p-8 rounded-3xl border border-green-100 text-center transition-all duration-300 shadow-md transform hover:scale-105">
                                <h3 className="font-bold text-green-800 mb-4 flex justify-center items-center gap-2"><Package/> PENJUAL</h3>
                                <div className="text-6xl font-black text-green-600 mb-4">{supplyCount}0</div>
                                <div className="flex flex-wrap justify-center gap-1 h-20 overflow-hidden content-start">{[...Array(supplyCount)].map((_, i) => <Package key={i} size={24} className="text-green-500"/>)}</div>
                            </div>
                            </div>
                        </div>
                        )}

                        {/* 6. GRAFIK */}
                        {currentSlide === 6 && (
                        <div className="w-full animate-fadeIn flex flex-col items-center">
                            <h2 className="text-3xl font-bold text-slate-800 mb-8">{lang === 'id' ? "Grafik Permintaan & Penawaran" : "Supply & Demand Graph"}</h2>
                            <div className="bg-white p-6 md:p-10 rounded-3xl shadow-2xl border border-slate-200 w-full max-w-3xl relative h-[450px]">
                                <svg viewBox="0 0 300 300" className="w-full h-full overflow-visible">
                                <line x1="40" y1="260" x2="280" y2="260" stroke="#94a3b8" strokeWidth="2" markerEnd="url(#arrow)" />
                                <line x1="40" y1="260" x2="40" y2="20" stroke="#94a3b8" strokeWidth="2" markerEnd="url(#arrow)" />
                                <text x="280" y="280" className="text-xs fill-slate-500 font-bold">Q</text>
                                <text x="20" y="20" className="text-xs fill-slate-500 font-bold">P</text>
                                <path d="M 50 50 L 270 250" stroke="#ef4444" strokeWidth="4" fill="none" className="drop-shadow-md"/>
                                <text x="50" y="40" className="text-xs fill-red-500 font-bold">D</text>
                                <path d="M 50 250 L 270 50" stroke="#22c55e" strokeWidth="4" fill="none" className="drop-shadow-md"/>
                                <text x="250" y="40" className="text-xs fill-green-500 font-bold">S</text>
                                <circle cx="160" cy="150" r="5" fill="#3b82f6" />
                                <text x="170" y="150" className="text-[10px] fill-blue-600 font-bold">Equilibrium</text>
                                <line x1="40" y1={260 - (price * 22)} x2="280" y2={260 - (price * 22)} stroke="#f59e0b" strokeWidth="3" strokeDasharray="5,5" />
                                <text x="285" y={260 - (price * 22)} className="text-xs fill-orange-500 font-bold bg-white p-1">{formatRupiah(price)}</text>
                                </svg>
                                <div className="absolute bottom-8 left-16 right-16">
                                <input type="range" min="1" max="10" value={price} onChange={(e) => setPrice(parseInt(e.target.value))} className="w-full h-3 bg-slate-200 rounded-full appearance-none cursor-pointer accent-orange-500 shadow-inner"/>
                                </div>
                            </div>
                            <div className="flex gap-6 mt-8 text-sm font-medium text-slate-600 bg-white px-6 py-3 rounded-full shadow-sm">
                                <span className="flex items-center gap-2"><div className="w-4 h-4 bg-red-500 rounded-full"></div> Demand (Pembeli)</span>
                                <span className="flex items-center gap-2"><div className="w-4 h-4 bg-green-500 rounded-full"></div> Supply (Penjual)</span>
                                <span className="flex items-center gap-2"><div className="w-4 h-4 bg-orange-500 rounded-full"></div> Current Price</span>
                            </div>
                        </div>
                        )}

                        {/* 7. KUIS */}
                        {currentSlide === 7 && (
                        <div className="w-full max-w-2xl animate-fadeIn">
                            <div className="text-center mb-8">
                            <h2 className="text-3xl font-bold text-slate-800 mb-2">{lang === 'id' ? "Kuis Pemahaman" : "Comprehension Quiz"}</h2>
                            </div>
                            {!quizFinished ? (
                            <div className="bg-white p-8 rounded-3xl shadow-xl border border-slate-200">
                                <div className="flex justify-between mb-8 text-sm font-bold text-slate-400 uppercase tracking-widest">
                                <span>Question {currentQuestion + 1} / {questions.length}</span>
                                <span className="bg-blue-100 text-blue-700 px-3 py-1 rounded-full">Score: {quizScore}</span>
                                </div>
                                <h3 className="text-xl font-bold text-slate-800 mb-8 leading-relaxed">{lang === 'id' ? questions[currentQuestion].q.id : questions[currentQuestion].q.en}</h3>
                                <div className="space-y-4">
                                {questions[currentQuestion].options.map((opt, idx) => (
                                    <button key={idx} onClick={() => handleAnswer(opt.correct)} className="w-full p-5 rounded-2xl border-2 border-slate-100 hover:border-blue-500 hover:bg-blue-50 text-left transition font-medium text-slate-600 hover:text-blue-700 flex justify-between items-center group">
                                    {lang === 'id' ? opt.id : opt.en}
                                    <ArrowRight size={20} className="opacity-0 group-hover:opacity-100 transition-opacity text-blue-500"/>
                                    </button>
                                ))}
                                </div>
                            </div>
                            ) : (
                            <div className="text-center py-10">
                                <div className="inline-block p-8 rounded-full bg-yellow-400 text-white shadow-xl mb-8 animate-bounce"><Award size={80} /></div>
                                <h2 className="text-4xl font-bold text-slate-800 mb-4">{lang === 'id' ? "Selesai!" : "Finished!"}</h2>
                                <p className="text-slate-500 mb-8 text-xl">Final Score: <span className="font-black text-blue-600 text-2xl mx-2">{quizScore}</span> / {questions.length}</p>
                                <button onClick={resetQuiz} className="bg-blue-600 text-white px-10 py-4 rounded-full font-bold shadow-lg hover:bg-blue-700 transition transform hover:scale-105">{lang === 'id' ? "Ulangi Kuis" : "Retry Quiz"}</button>
                            </div>
                            )}
                        </div>
                        )}

                        {/* 8. ASESMEN FORMATIF (UPDATED: PAPER BASED) */}
                        {currentSlide === 8 && (
                        <div className="w-full animate-fadeIn h-full flex flex-col justify-center items-center">
                            <div className="text-center mb-8 max-w-3xl">
                                <div className="inline-flex items-center justify-center gap-4 mb-4">
                                    <div className="p-3 bg-teal-100 rounded-full text-teal-600"><Users size={32}/></div>
                                    <div className="p-3 bg-purple-100 rounded-full text-purple-600"><FileEdit size={32}/></div>
                                </div>
                                <h2 className="text-3xl md:text-4xl font-bold text-slate-800 mb-2">{lang === 'id' ? "Tantangan Berpasangan: Luring" : "Offline Pair Challenge"}</h2>
                                <p className="text-lg text-slate-500">1 Lembar Kerja • 2 Otak • 15 Menit</p>
                            </div>

                            <div className="w-full max-w-4xl grid md:grid-cols-2 gap-8 items-center">
                                {/* Instruksi */}
                                <div className="bg-white p-8 rounded-3xl shadow-xl border-l-8 border-purple-500">
                                    <h3 className="font-bold text-xl text-slate-800 mb-6 flex items-center gap-2">
                                        <Target className="text-purple-600"/> Misi Kalian:
                                    </h3>
                                    <ul className="space-y-4 text-slate-600">
                                        <li className="flex gap-3 items-start">
                                            <span className="bg-purple-100 text-purple-700 font-bold rounded px-2 py-1 text-xs mt-1">STEP 1</span>
                                            <span>Cari teman sebangku (Pasangan).</span>
                                        </li>
                                        <li className="flex gap-3 items-start">
                                            <span className="bg-purple-100 text-purple-700 font-bold rounded px-2 py-1 text-xs mt-1">STEP 2</span>
                                            <span>Ambil <strong>Lembar Kerja (LKPD)</strong> yang dibagikan oleh Guru.</span>
                                        </li>
                                        <li className="flex gap-3 items-start">
                                            <span className="bg-purple-100 text-purple-700 font-bold rounded px-2 py-1 text-xs mt-1">STEP 3</span>
                                            <span>Diskusikan dan tulis jawaban kalian di kertas tersebut.</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* Preview Soal Manual */}
                                <div className="space-y-4">
                                    <div className="bg-teal-50 p-4 rounded-xl border border-teal-200">
                                        <div className="flex justify-between items-center mb-2">
                                            <h4 className="font-bold text-teal-800 text-sm">SOAL 1: Konsep</h4>
                                            <PenTool size={16} className="text-teal-600"/>
                                        </div>
                                        <p className="text-xs text-slate-600 italic">"Ingat kembali aplikasi belanja online yang pernah kalian lihat. Jelaskan mengapa itu disebut Pasar Abstrak!"</p>
                                    </div>

                                    <div className="bg-orange-50 p-4 rounded-xl border border-orange-200">
                                        <div className="flex justify-between items-center mb-2">
                                            <h4 className="font-bold text-orange-800 text-sm">SOAL 2: Studi Kasus</h4>
                                            <TrendingUp size={16} className="text-orange-600"/>
                                        </div>
                                        <p className="text-xs text-slate-600 italic">"Baca teks tentang 'Fenomena Tiket Konser' di lembar kerja. Analisis mengapa harganya bisa naik drastis!"</p>
                                    </div>
                                    
                                    <div className="w-full bg-slate-800 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg">
                                        <Timer size={18}/> Waktu Pengerjaan: 15 Menit
                                    </div>

                                    {/* Link LKPD Google Docs */}
                                    <a href="https://docs.google.com/document/d/13FJbdwh2zEAPsTuWDMb3kHFM_oClxf8oS9MZhN8rVXM/edit?usp=sharing" target="_blank" rel="noreferrer" className="w-full bg-blue-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md group">
                                        <FileText size={18} className="group-hover:scale-110 transition"/> Buka File LKPD (Google Docs)
                                    </a>
                                </div>
                            </div>
                        </div>
                        )}

                        {/* 9. PENUTUP */}
                        {currentSlide === 9 && (
                        <div className="w-full max-w-5xl animate-fadeIn space-y-8">
                            <div className="text-center mb-8">
                            <h2 className="text-3xl font-bold text-slate-800">{lang === 'id' ? "Kesimpulan & Refleksi" : "Conclusion & Reflection"}</h2>
                            </div>
                            <div className="grid md:grid-cols-2 gap-8">
                            <div className="bg-blue-50 p-8 rounded-3xl border border-blue-100 shadow-md">
                                <h3 className="font-bold text-xl text-blue-900 mb-6 flex items-center gap-3"><CheckCircle size={28} className="text-blue-600"/> {lang === 'id' ? "Poin Kunci" : "Key Points"}</h3>
                                <ul className="space-y-4">
                                <li className="bg-white p-4 rounded-xl shadow-sm text-slate-700 flex gap-3"><span className="font-bold text-blue-500">1.</span><span><strong>Pasar</strong> adalah mekanisme pertemuan antara permintaan (pembeli) dan penawaran (penjual).</span></li>
                                <li className="bg-white p-4 rounded-xl shadow-sm text-slate-700 flex gap-3"><span className="font-bold text-blue-500">2.</span><span><strong>Hukum Permintaan:</strong> Harga Mahal = Beli Sedikit.</span></li>
                                <li className="bg-white p-4 rounded-xl shadow-sm text-slate-700 flex gap-3"><span className="font-bold text-blue-500">3.</span><span><strong>Hukum Penawaran:</strong> Harga Mahal = Jual Banyak.</span></li>
                                </ul>
                            </div>
                            <div className="bg-yellow-50 p-8 rounded-3xl border border-yellow-100 shadow-md">
                                <h3 className="font-bold text-xl text-yellow-900 mb-6 flex items-center gap-3"><Heart size={28} className="text-yellow-600"/> {lang === 'id' ? "Refleksi Diri" : "Self Reflection"}</h3>
                                <div className="space-y-6">
                                <div className="bg-white p-5 rounded-xl shadow-sm border-l-8 border-yellow-400"><p className="text-xs font-bold text-yellow-600 uppercase tracking-widest mb-2">Smart Consumer</p><p className="text-slate-700 italic text-lg font-serif">"Apakah saya membeli karena butuh, atau karena lapar mata?"</p></div>
                                <div className="bg-white p-5 rounded-xl shadow-sm border-l-8 border-yellow-400"><p className="text-xs font-bold text-yellow-600 uppercase tracking-widest mb-2">Ethical Seller</p><p className="text-slate-700 italic text-lg font-serif">"Jika saya penjual, apakah saya akan menaikkan harga seenaknya saat bencana?"</p></div>
                                </div>
                            </div>
                            </div>
                            <div className="text-center pt-12 pb-4">
                            <p className="text-slate-400 text-sm">Sampai jumpa di Pertemuan 2: Simulasi Pasar!</p>
                            <p className="text-slate-300 text-xs mt-2">© 2025 SMP YPS Singkole</p>
                            </div>
                        </div>
                        )}

                    </div>

                    {/* NAVIGASI */}
                    <div className="bg-white p-4 border-t border-slate-200 flex justify-between items-center px-6 md:px-10">
                        <button onClick={prevSlide} disabled={currentSlide === 0} className={`flex items-center gap-2 px-5 py-3 rounded-xl font-bold transition-all ${currentSlide === 0 ? 'text-slate-300 cursor-not-allowed' : 'text-slate-600 hover:bg-slate-100 hover:text-blue-600'}`}><ArrowLeft size={20} /> {lang === 'id' ? 'Kembali' : 'Back'}</button>
                        <div className="flex gap-2">
                        {[...Array(TOTAL_SLIDES)].map((_, idx) => (
                            <button key={idx} onClick={() => setCurrentSlide(idx)} className={`h-2 rounded-full transition-all duration-300 ${idx === currentSlide ? 'bg-blue-600 w-8' : 'bg-slate-200 w-2 hover:bg-blue-200'} ${idx === 8 ? 'bg-teal-300 w-2 hover:bg-teal-400' : ''}`} title={`Go to Slide ${idx}`}/>
                        ))}
                        </div>
                        <button onClick={nextSlide} disabled={currentSlide === TOTAL_SLIDES - 1} className={`flex items-center gap-2 px-6 py-3 rounded-full font-bold transition-all shadow-md ${currentSlide === TOTAL_SLIDES - 1 ? 'text-slate-300 bg-slate-100 cursor-not-allowed shadow-none' : 'bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg transform hover:-translate-y-0.5'}`}>{lang === 'id' ? 'Lanjut' : 'Next'} <ArrowRight size={20} /></button>
                    </div>

                    </div>
                </div>
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<MarketEconomicsModule />);
    </script>
</body>
</html>
